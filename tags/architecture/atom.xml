<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en">
	<title>Home | Cosme - architecture</title>
	<link href="https://cosmevalera.dev/tags/architecture/atom.xml" rel="self" type="application/atom+xml"/>
  <link href="https://cosmevalera.dev/"/>
	<generator uri="https://www.getzola.org/">Zola</generator>
	<updated>2024-10-04T00:00:00+00:00</updated>
	<id>https://cosmevalera.dev/tags/architecture/atom.xml</id>
	<entry xml:lang="en">
		<title>Optimizing Microfrontends with Turborepo</title>
		<published>2024-10-04T00:00:00+00:00</published>
		<updated>2024-10-04T00:00:00+00:00</updated>
		<link rel="alternate" href="https://cosmevalera.dev/blog/optimizing-microfrontends-with-turborepo/" type="text/html"/>
		<id>https://cosmevalera.dev/blog/optimizing-microfrontends-with-turborepo/</id>
		<content type="html">&lt;p&gt;&lt;img src=&quot;&#x2F;images&#x2F;blog&#x2F;2024-10-04-optimizing-microfrontends-with-turborepo&#x2F;cover-webp.webp&quot; alt=&quot;blog-cover&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h4&gt;&lt;b&gt;üßê Why Turborepo?&lt;&#x2F;b&gt;&lt;&#x2F;h4&gt;
&lt;p&gt;Managing multiple microfrontends within a monorepo can be challenging. Turborepo offers a powerful solution to optimize workflows, run tasks in parallel, and cache results for faster builds.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;b&gt;Parallel Tasks:&lt;&#x2F;b&gt; Run builds and tests across multiple microfrontends simultaneously.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;b&gt;Intelligent Caching:&lt;&#x2F;b&gt; Save time by reusing outputs from previous runs.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;b&gt;Scalable:&lt;&#x2F;b&gt; Manage as many microfrontends as needed, all within a single monorepo.
If you&#x27;re working with multiple apps, Turborepo is a game-changer for streamlining your workflows.&lt;&#x2F;p&gt;
&lt;p&gt;Here&#x27;s how you can set up and use Turborepo in your project:&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;h4&gt;&lt;b&gt;üîß 1. Creating a Turborepo Project&lt;&#x2F;b&gt;&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;b&gt;1.1 Create a New Turborepo Project:&lt;&#x2F;b&gt; &lt;&#x2F;p&gt;
&lt;p&gt;Instead of manually setting up Turborepo, you can use the following command to quickly scaffold a new Turborepo:&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;sh&quot; style=&quot;background-color:#272822;color:#f8f8f2;&quot; class=&quot;language-sh &quot;&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span&gt;npx create-turbo@latest
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;b&gt;1.2 Place your microfrontends inside the &lt;code&gt;apps&lt;&#x2F;code&gt; directory:&lt;&#x2F;b&gt; &lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;sh&quot; style=&quot;background-color:#272822;color:#f8f8f2;&quot; class=&quot;language-sh &quot;&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span&gt;apps&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt; ‚îú‚îÄ‚îÄ mfe1&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt; ‚îú‚îÄ‚îÄ mfe2&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt; ‚îî‚îÄ‚îÄ mfe3&#x2F;
&lt;&#x2F;span&gt;&lt;span&gt;package.json
&lt;&#x2F;span&gt;&lt;span&gt;turbo.json
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;h4&gt;&lt;b&gt;üìÑ 2. Important Configuration Files&lt;&#x2F;b&gt;&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;code&gt;package.json&lt;&#x2F;code&gt; defines your scripts, dependencies, and workspace structure&lt;&#x2F;p&gt;
&lt;p&gt;&lt;code&gt;turbo.json&lt;&#x2F;code&gt; configures how tasks are run across your monorepo. It also includes caching settings to speed up subsequent runs.&lt;&#x2F;p&gt;
&lt;h4&gt;&lt;b&gt;‚ö° 3. Running Turborepo Commands&lt;&#x2F;b&gt;&lt;&#x2F;h4&gt;
After setting up Turborepo, you can easily manage all apps and packages with a few simple commands:
&lt;p&gt;&lt;b&gt;Install dependencies:&lt;&#x2F;b&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;sh&quot; style=&quot;background-color:#272822;color:#f8f8f2;&quot; class=&quot;language-sh &quot;&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span&gt;npm i 
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;b&gt;Build all apps and packages:&lt;&#x2F;b&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;sh&quot; style=&quot;background-color:#272822;color:#f8f8f2;&quot; class=&quot;language-sh &quot;&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span&gt;npm run build 
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;b&gt;Start the development environment:&lt;&#x2F;b&gt;&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;sh&quot; style=&quot;background-color:#272822;color:#f8f8f2;&quot; class=&quot;language-sh &quot;&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span&gt;npm run dev 
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;blockquote&gt;
&lt;p&gt;Run any of these commands once, and Turborepo will use its smart caching to speed up subsequent builds.&lt;&#x2F;p&gt;
&lt;&#x2F;blockquote&gt;
&lt;hr &#x2F;&gt;
&lt;!-- Visual break before conclusion - changes based on time of year --&gt;
&lt;div class=&quot;seasonal-image-container&quot;&gt;
  
  
  &lt;!-- &lt;p&gt;2&lt;&#x2F;p&gt; --&gt;
  
  
  
    
  
  
  
  
    &lt;img
      src=&quot;https:&#x2F;&#x2F;cosmevalera.dev&#x2F;images&#x2F;blog&#x2F;general&#x2F;tree-autumn-winter-webp.webp&quot; 
      alt=&quot;Autumn&amp;amp;#x2F;Winter seasonal image&quot;
      loading=&quot;lazy&quot;
      decoding=&quot;async&quot;&gt;
  
&lt;&#x2F;div&gt;
&lt;p&gt;Give it a try in your next project and experience the efficiency firsthand! üòçüòç&lt;&#x2F;p&gt;
</content>
	</entry>
	<entry xml:lang="en">
		<title>Shared Styles in Monorepos</title>
		<published>2024-09-01T00:00:00+00:00</published>
		<updated>2024-09-01T00:00:00+00:00</updated>
		<link rel="alternate" href="https://cosmevalera.dev/blog/shared-styles-in-monorepo/" type="text/html"/>
		<id>https://cosmevalera.dev/blog/shared-styles-in-monorepo/</id>
		<content type="html">&lt;p&gt;&lt;img src=&quot;&#x2F;images&#x2F;blog&#x2F;2024-09-01-shared-styles-in-monorepo&#x2F;cover-webp.webp&quot; alt=&quot;blog-cover&quot; &#x2F;&gt;&lt;&#x2F;p&gt;
&lt;h4&gt;&lt;b&gt;ü§î Overview&lt;&#x2F;b&gt;&lt;&#x2F;h4&gt;
&lt;p&gt;In large-scale projects maintaining consistent styles across multiple applications is crucial. Here are two key approaches for managing shared styles:&lt;&#x2F;p&gt;
&lt;ol&gt;
&lt;li&gt;üì¶ Creating a shared styles library as a &lt;b&gt;npm package&lt;&#x2F;b&gt;.&lt;&#x2F;li&gt;
&lt;li&gt;üîó Directly importing styles from &lt;b&gt;a centralized directory&lt;&#x2F;b&gt; within the monorepo.&lt;&#x2F;li&gt;
&lt;&#x2F;ol&gt;
&lt;hr &#x2F;&gt;
&lt;h4&gt;&lt;b&gt;üì¶ 1. Creating a Styles Library with npm&lt;&#x2F;b&gt;&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;b&gt;Overview:&lt;&#x2F;b&gt; This approach involves creating a dedicated styles library that is published as a npm package. The styles can then be imported into any project that needs them.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;b&gt;Implementation:&lt;&#x2F;b&gt; For example, if you&#x27;re working with custom theme styles for PrimeReact, you can create your styles in a library and export them using an &lt;code&gt;index.js&lt;&#x2F;code&gt; file like this:&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;sh&quot; style=&quot;background-color:#272822;color:#f8f8f2;&quot; class=&quot;language-sh &quot;&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span&gt;module.exports = {
&lt;&#x2F;span&gt;&lt;span&gt;  theme: require(&lt;&#x2F;span&gt;&lt;span style=&quot;color:#e6db74;&quot;&gt;&amp;#39;.&#x2F;style&#x2F;themes&#x2F;my-theme&#x2F;theme.scss&amp;#39;&lt;&#x2F;span&gt;&lt;span&gt;),
&lt;&#x2F;span&gt;&lt;span&gt;}&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f92672;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;After publishing the package, you can install it in your projects using:&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;sh&quot; style=&quot;background-color:#272822;color:#f8f8f2;&quot; class=&quot;language-sh &quot;&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span&gt;npm i my-theme
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;Then, simply import the styles in your main JavaScript entry point:&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;sh&quot; style=&quot;background-color:#272822;color:#f8f8f2;&quot; class=&quot;language-sh &quot;&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span&gt;import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e6db74;&quot;&gt;&amp;#39;my-theme&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f92672;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;b&gt;Pros:&lt;&#x2F;b&gt;
Centralized version control of styles.
Easy to update and distribute across multiple projects.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;b&gt;Cons:&lt;&#x2F;b&gt;
Requires publishing and versioning with each change.&lt;&#x2F;p&gt;
&lt;h4&gt;&lt;b&gt;üîó 2. Direct Import from a Centralized Directory&lt;&#x2F;b&gt;&lt;&#x2F;h4&gt;
&lt;p&gt;&lt;b&gt;Overview:&lt;&#x2F;b&gt; If you‚Äôre using a monorepo setup, you can store your styles in a central directory and import them directly into each project.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;b&gt;Implementation:&lt;&#x2F;b&gt; Place your styles in a folder at the root level, parallel to your apps, and import them in your projects:&lt;&#x2F;p&gt;
&lt;pre data-lang=&quot;sh&quot; style=&quot;background-color:#272822;color:#f8f8f2;&quot; class=&quot;language-sh &quot;&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;span&gt;import &lt;&#x2F;span&gt;&lt;span style=&quot;color:#e6db74;&quot;&gt;&amp;#39;..&#x2F;style&#x2F;themes&#x2F;my-theme&#x2F;theme.scss&amp;#39;&lt;&#x2F;span&gt;&lt;span style=&quot;color:#f92672;&quot;&gt;;
&lt;&#x2F;span&gt;&lt;&#x2F;code&gt;&lt;&#x2F;pre&gt;
&lt;p&gt;&lt;b&gt;Pros:&lt;&#x2F;b&gt;
No need to publish or manage versions.
Immediate access to the latest styles without additional steps.&lt;&#x2F;p&gt;
&lt;p&gt;&lt;b&gt;Cons:&lt;&#x2F;b&gt;
Potential for accidental breaking changes if styles are updated.
Need to have a monorepo structure; doesn&#x27;t work if the projects are split into different repositories.&lt;&#x2F;p&gt;
&lt;hr &#x2F;&gt;
&lt;!-- Visual break before conclusion - changes based on time of year --&gt;
&lt;div class=&quot;seasonal-image-container&quot;&gt;
  
  
  &lt;!-- &lt;p&gt;2&lt;&#x2F;p&gt; --&gt;
  
  
  
    
  
  
  
  
    &lt;img
      src=&quot;https:&#x2F;&#x2F;cosmevalera.dev&#x2F;images&#x2F;blog&#x2F;general&#x2F;tree-autumn-winter-webp.webp&quot; 
      alt=&quot;Autumn&amp;amp;#x2F;Winter seasonal image&quot;
      loading=&quot;lazy&quot;
      decoding=&quot;async&quot;&gt;
  
&lt;&#x2F;div&gt;&lt;h4&gt;&lt;b&gt;‚ùì What to choose&lt;&#x2F;b&gt;&lt;&#x2F;h4&gt;
&lt;ul&gt;
&lt;li&gt;Use a &lt;b&gt;npm package&lt;&#x2F;b&gt; if you want to have strict version control or you don&#x27;t have all your projects in the same folder.&lt;&#x2F;li&gt;
&lt;li&gt;Use direct importing from &lt;b&gt;a centralized directory&lt;&#x2F;b&gt; if you prefer a simpler solution and your code structure allows it.&lt;&#x2F;li&gt;
&lt;&#x2F;ul&gt;
</content>
	</entry>
</feed>
